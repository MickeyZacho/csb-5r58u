(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,n){e.exports=n(159)},155:function(e,t){},158:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var i=n(8),a=n.n(i),r=n(127),c=n.n(r),o=n(1),u=n(9),l=n.n(u),s=n(20),f=n(11),d=n(103),p=n(169),w=n(132),h=n(173),m=function(e){var t=e.data;return[new h.a({id:"scatter-layer",data:t,opacity:.5,stroked:!0,filled:!0,radiusMinPixels:10,radiusMaxPixels:1e3,lineWidthMinPixels:1,getRadius:function(e){return Math.sqrt(e.exits)},getFillColor:function(e){return[255,0,0]},getLineColor:function(e){return[255,0,0]},getPosition:function(e){return e.position}})]},b=n(135),g=n(133),v=function(e){var t=e.viewport,n=e.data;if(!n.map)return null;var r=t.width,c=t.height,o=n.map(function(e){return t.project(e.position)}),u=Object(b.a)().extent([[0,0],[r,c]])(o).polygons(),l=Object(i.useRef)(null),s=a.a.useRef();return s.current=function(){var e=Object(g.a)(l.current).selectAll(".cell").data(u),t=e.enter().append("path").attr("class","cell").attr("fill","none").attr("stroke","black");e.merge(t).attr("d",function(e){return!e||e.length<1?null:"M".concat(e.join("L"),"Z")})},Object(i.useEffect)(function(){s.current()},[u]),a.a.createElement("svg",{viewBox:"0 0 ".concat(t.width," ").concat(t.height)},a.a.createElement("g",{ref:l}))},j=n(134),O=function(){var e=Object(i.useState)({}),t=Object(f.a)(e,2),n=t[0],r=t[1];Object(i.useEffect)(function(){(function(){var e=Object(s.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)("./heatmap-data.csv");case 2:t=e.sent,n=t.map(function(e){return{position:[+e.lng,+e.lat]}}),r(n);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]);var c=Object(i.useState)(new d.a({width:window.innerWidth,height:window.innerHeight,longitude:-3.2943888952729092,latitude:53.63605986631115,zoom:6,maxZoom:16,pitch:65,bearing:0})),u=Object(f.a)(c,2),h=u[0],b=u[1];return Object(i.useEffect)(function(){var e=function(){b(function(e){return Object(o.a)(Object(o.a)({},e),{},{width:window.innerWidth,height:window.innerHeight})})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),a.a.createElement("div",null,a.a.createElement(w.a,Object.assign({},h,{mapStyle:"mapbox://styles/mapbox/light-v9",mapboxApiAccessToken:"pk.eyJ1Ijoic2hpbWl6dSIsImEiOiJjam95MDBhamYxMjA1M2tyemk2aHMwenp5In0.i2kMIJulhyPLwp3jiLlpsA",preventStyleDiffing:!1,onViewportChange:function(e){return b(new d.a(e))}}),a.a.createElement(p.a,{layers:m({data:n}),initialViewState:h,controller:!0}),a.a.createElement(v,{viewport:h,data:n})))};n(158);c.a.render(a.a.createElement(O,null),document.getElementById("root"))},91:function(e,t){}},[[147,1,2]]]);
//# sourceMappingURL=main.85e2369b.chunk.js.map